sudo: required
services:
- docker
language: python
python:
- '2.7'
install:
- sudo apt-get install -y graphviz imagemagick
- pip install git+git://github.com/recast-hep/recast-backend.git@master --process-dependency-links
- pip install . --process-dependency-links
script:
- 'echo ''events: 100'' > ctx.yml'
- yadage-run -t from-github/testing/busybox-flow workdir rootflow.yml
- RECAST_PLUGIN_TRACK=false ./testrunbackend.py rootflow.yml http://physics.nyu.edu/~lh1132/dummycomplex.zip
  fit.workspace.root,nonexistent,world.txt --no-cleanup -t from-github/testing/busybox-flow
- find workdirs
- rm -rf workdirs
- RECAST_PLUGIN_TRACK=false ./testrunbackend.py rootflow.yml http://physics.nyu.edu/~lh1132/dummycomplex.zip
  fit.workspace.root,nonexistent,world.txt -t from-github/testing/busybox-flow
- find /tmp/recast_quarantine
- docker build -t lukasheinrich/recast-cap-demo .
- echo $DOCKERLOGIN
- docker login -u $DOCKERLOGIN -p $DOCKERPW
- docker push lukasheinrich/recast-cap-demo:githead
env:
  secure: N+h5sJb3BCV1luMc6gwrddfS6Wf1rfz2ZDk8zRbNNQHnEiG4k4n1CgB6N9jvqVfqRF/loiW9xdbtAS/tZv7qim6bYwiYyIO2mq9W0bHpGRymkhOS8kV9CHusAeJAl3dMRB3iNUN9i3bgOSTqknlqWN4k65Xe/JQdjcOsDUggs3/OIvH7x/RFDL88eYbXGu3H6vXb8lzQMmcqZCohiywJ+6I6nA5WTtgS7Gca7lesybrdCdpdS8Cn/rc5akYqCvZt2VaQIQ0Ywb94DHveAi7EQx6Cn+UGRw2P8DmFintGpGeBtpIS5CPqHWLSS9ggxV77vYJCmeDdaYrKqXvPLj5pFvr7acyxL3rJkkmSv27PwKOnKjMuKEB3gNhiX94Nu9NEM1N7Q3tawEhpepkX8s85Em3leXn8BDbCsWd+2xUc5DRtfRA0YwNf6zaOh9W9+RQ/RoInIRqtJUdCCfJpTxpQgckM/Jixeb2riYuC/AT4nX/WBE19CgitMdqa62t5tkN4udC04MvQs9UygPlqv/H/qH0ebnCOfj4I5VXx7pCgIg975N20eIzwHe3v0BHhQPrjbw6Fvf/r/hVuJPp81+7X4Nrk7mF2aOr33NULZksuxxshIROq9vt/3GlWBMZidEHtBcIG2WSmkOxhxHw0/5yy7XBrMyKs5hdRbJ4oc/0yNXg=
